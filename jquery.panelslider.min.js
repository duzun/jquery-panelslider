(function(g){function v(b,c){var a=b.outerWidth(!0),e={},d={},f=b.data(),h=f.animate&&f.duration,g=f.animated&&q,l=f.pushContainer||r,n=b.add(l).add(r),k="static"==l.css("position");if(!(b.length&&b.hasClass(m)||t)){b.trigger("psBeforeOpen",[f]);t=!0;b.addClass(m).css({position:"fixed",top:0,height:"100%","z-index":999999});switch(f.side){case "left":b.css({left:"-"+a+"px",right:"auto"});k?e["margin-left"]="+="+a:"auto"==l.css("left")?e.right="-="+a:e.left="+="+a;d.left="+="+a;break;case "right":b.css({left:"auto",
right:"-"+a+"px"}),k?e["margin-left"]="-="+a:"auto"==l.css("right")?e.left="-="+a:e.right="+="+a,d.right="+="+a}a=function(a){t=!1;n.removeClass(x).addClass(y);b.trigger("psOpen",[f]);if("function"==typeof f.onOpen)f.onOpen();"function"==typeof c&&c.call(b,f)};b.show();n.removeClass(z+" "+y).addClass(x);g&&b[0].offsetWidth;(k=f.openClass)&&b.addClass(k);(k=f.openBodyClass||k)&&r.addClass(k);if(h)l.animate(e,f.duration),b.animate(d,f.duration,a);else if(l.css(e),b.css(d),g)b.one(q,a);else setTimeout(a,
16)}}function s(b){var c=d(n),a=c.data("duration"),e=c.outerWidth(!0),p={},f={},h=c.data(),g=h.openClass,l=h.openBodyClass||g,s=h.animate&&a,k=h.animated&&q,u=h.pushContainer||r,v=c.add(u).add(r),w="static"==u.css("position");if(c.length&&c.length&&c.hasClass(m)&&!t){c.trigger("psBeforeClose",[h]);k&&c[0].offsetWidth;g&&c.removeClass(g);t=!0;switch(c.data("side")){case "left":w?p["margin-left"]="-="+e:"auto"==u.css("left")?p.right="+="+e:p.left="-="+e;f.left="-="+e;break;case "right":w?p["margin-left"]=
"+="+e:"auto"==u.css("right")?p.left="+="+e:p.right="-="+e,f.right="-="+e}e=function(a){c.hide();c.removeClass(m);t=!1;l&&r.removeClass(l);v.removeClass(z);c.trigger("psClose",[h]);if("function"==typeof h.onClose)h.onClose();"function"==typeof b&&b.call(c,h)};v.removeClass(x+" "+y).addClass(z);if(s)c.animate(f,a),u.animate(p,a,e);else if(c.css(f),u.css(p),k)c.one(q,e);else setTimeout(e,16)}}function w(b,c){var a=b.data();if(!a.psInited){var a=d.extend({},d.panelslider.defaults,c,a),e=a.pushContainer?
d(a.pushContainer):r;a.pushContainer&&(a.pushContainer=e);var g=a.animatedClass&&b.hasClass(a.animatedClass);g&&(a.animated=!0);a.animated&&(a.animate=!1,!g&&a.animatedClass&&b.add(e).addClass(a.animatedClass));a.psInited=!0;b.data(a)}return a}var d=g.jQuery||g.Zepto;g=g.Modernizr;var q,y="ps-open",x="ps-in",z="ps-out",m="ps-active-panel",n="."+m,r=d("body"),t=!1;d.panelslider=function(b,c){var a=d(n);w(b,c);var e=a.length&&a.hasClass(m);e&&a[0]!=b[0]?s(function(){v(b)}):a.length&&e||v(b)};d.panelslider.close=
s;d.panelslider.defaults={side:"left",duration:200,clickClose:!0,openClass:null,openBodyClass:null,animatedClass:"ps-animated",animate:!0,animated:!1,pushContainer:null,onOpen:null};d(document).on("click keyup",function(b){var c=d(n);("keyup"!=b.type||27==b.keyCode)&&c.length&&c.hasClass(m)&&c.data("clickClose")&&s()}).on("dblclick",function(b){b=d(n);b.length&&b.hasClass(m)&&s()}).on("click dblclick",n,function(b){b.stopPropagation()});d.fn.panelslider=function(b){var c=d(b.context||this.attr("href"));
w(c,b);this.off("click.panelslider").on("click.panelslider",function(a){a.preventDefault();a=d(n);var c=d(b.context||d(this).attr("href"));a.length&&a.hasClass(m)&&c[0]==a[0]?s():d.panelslider(c,b)});return this};g&&g.csstransitions&&("transition"in d.support||(d.support.transition={}),d.support.transition.end||(d.support.transition.end={WebkitTransition:"webkitTransitionEnd",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd"}[g.prefixed("transition")]||"transitionend"));(q=d.support.transition)&&
(q=q.end)})(this);
